[gd_scene load_steps=13 format=3 uid="uid://cqrgm414sjfhp"]

[ext_resource type="ArrayMesh" uid="uid://dcnowrqnkbi2q" path="res://Asset/Kitchen/obj/pan_A.obj" id="1_1kdj1"]
[ext_resource type="Script" path="res://Script/Furniture/Pan.cs" id="1_2acte"]
[ext_resource type="PackedScene" uid="uid://c7028uon8wrot" path="res://Asset/Prefabs/utils/ProgressBar.tscn" id="3_l8wfu"]
[ext_resource type="AudioStream" uid="uid://dw32vw0assyfe" path="res://Asset/Audio/SX/frying-steak-74556.mp3" id="4_hhpka"]

[sub_resource type="BoxShape3D" id="BoxShape3D_rtx7j"]
size = Vector3(1, 0.736964, 1.65015)

[sub_resource type="BoxShape3D" id="BoxShape3D_ind2l"]
size = Vector3(1, 0.254504, 1)

[sub_resource type="Curve" id="Curve_josnr"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.114187, 1), 0.0, 0.0, 0, 0, Vector2(0.629758, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="CurveTexture" id="CurveTexture_gyejf"]
curve = SubResource("Curve_josnr")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_7pevs"]
lifetime_randomness = 0.09
emission_shape = 3
emission_box_extents = Vector3(0.3, 0.1, 0.3)
direction = Vector3(0, 1, 0)
gravity = Vector3(0, 1, 0)
scale_min = 0.3
scale_curve = SubResource("CurveTexture_gyejf")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4r50i"]
transparency = 1
albedo_color = Color(0.423529, 0.423529, 0.423529, 0.623529)

[sub_resource type="SphereMesh" id="SphereMesh_72ao3"]
material = SubResource("StandardMaterial3D_4r50i")
radius = 0.1
height = 0.2

[sub_resource type="ViewportTexture" id="ViewportTexture_ybwd2"]
viewport_path = NodePath("SubViewport")

[node name="Pan" type="Node3D" node_paths=PackedStringArray("Particles", "Audio", "ProgressBar")]
script = ExtResource("1_2acte")
Particles = NodePath("SmokeParticle")
Audio = NodePath("AudioStreamPlayer")
ProgressBar = NodePath("SubViewport/ProgressBar")

[node name="HitBox" type="Area3D" parent="."]
collision_layer = 16
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="HitBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.135712, 0.246497)
shape = SubResource("BoxShape3D_rtx7j")

[node name="RigidBody3D" type="RigidBody3D" parent="."]
collision_layer = 8
collision_mask = 15
mass = 10.0
lock_rotation = true

[node name="Clean" type="MeshInstance3D" parent="RigidBody3D"]
mesh = ExtResource("1_1kdj1")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.130206, 0)
shape = SubResource("BoxShape3D_ind2l")

[node name="Anchor" type="Node3D" parent="RigidBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0693564, 0)

[node name="Raw" type="Node3D" parent="RigidBody3D"]

[node name="SmokeParticle" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.248216, 0)
emitting = false
lifetime = 1.7
explosiveness = 0.14
visibility_aabb = AABB(-0.637887, -1.64153, -0.69077, 1.27577, 3.28306, 1.38154)
process_material = SubResource("ParticleProcessMaterial_7pevs")
draw_pass_1 = SubResource("SphereMesh_72ao3")

[node name="SubViewport" type="SubViewport" parent="."]
disable_3d = true
transparent_bg = true

[node name="ProgressBar" parent="SubViewport" instance=ExtResource("3_l8wfu")]

[node name="Sprite3D" type="Sprite3D" parent="."]
transform = Transform3D(0.668461, 0, 0, 0, 0.668461, 0, 0, 0, 0.668461, 0, 1.79084, 0)
billboard = 1
texture = SubResource("ViewportTexture_ybwd2")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("4_hhpka")
volume_db = -9.0
bus = &"Sfx"
